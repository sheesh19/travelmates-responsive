<div class="search__box">
  <div class="search-banner justify-content-center">
    <!-- Search bar -->
    <div class="search-banner-text"><h1><strong>Check out travel plans<strong></h1></div>
    <div class="index-search">
      <%= form_tag(itineraries_path, method: :get, placeholder: "Search") do %>
        <%= text_field_tag :query %>
        <%#= submit_tag 'Search' %>
        <%= link_to request.path do %>
          <i class="far fa-times-circle"></i>
        <% end %>
      <% end %>
    </div>
  </div>
</div>

<!-- Displays search results dynamically -->
<% if @query %>
  <div>
    <h4>Search results</h4>
      <div class="card__grid">
        <% if @itineraries.any? %>
          <% @itineraries[0..@itineraries.count].each do |itinerary| %>
      <div class="card map-card" style="width: 24rem;">
        <div>
          <%= render "shared/mapstatic" %>
        </div>
        <div class="card-body px-4 pb-4 pt-0">
          <div id="travel-plan-card-title" class="card-title d-flex justify-content-between">
            <div><%= itinerary.total_time %> day plan</div>
              <div data-itinerary-id="<%= itinerary.id %>" class="itinerary-heart-icon">
                400 <%= render 'heart', itinerary: itinerary %>
            </div>
          </div>
          <h4 class="card-title">
            <%= itinerary.title %>
          </h4>
          <span class="tag-outline">Scuba diving</span>
          <span class="tag-outline">Shark</span>
          <span class="tag-outline">Amazing</span>
          <span class="tag-outline">Scuba diving</span>
          <span class="tag-outline">Shark</span>
          <span class="tag-outline">Amazing</span>
        </div>
        <%= link_to "", itinerary_path(itinerary), class: "make-card-clickable" %>
      </div>
    <% end %>
  </div>
  <% else %>
    <div>
      <span>No results found</span>
    </div>
  <% end %>
  </div>
<% end %>
